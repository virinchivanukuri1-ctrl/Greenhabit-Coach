<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Econest | Log Today</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="css/today.css" />
</head>
<body>
  <section class="log-card card fade-in">
    <header>
      <h1>Log today&apos;s sustainable choices</h1>
      <p>Every action counts. Capture what you did and keep the streak alive.</p>
    </header>
    <form id="todayForm" class="stack">
      <div class="toggle-field">
        <span>Did you travel today?</span>
        <div class="toggle-buttons" data-toggle="travelled">
          <button type="button" data-value="yes">Yes</button>
          <button type="button" data-value="no">No</button>
        </div>
        <input type="hidden" name="travelled" id="travelledInput" />
      </div>

      <div id="transportDetails" class="conditional-field hidden">
        <label>Mode of transportation
          <select name="transportMode">
            <option value="">Select</option>
            <option value="walk">Walk</option>
            <option value="cycle">Cycle</option>
            <option value="bus">Bus</option>
            <option value="auto">Auto</option>
            <option value="bike">Bike</option>
            <option value="car">Car</option>
            <option value="metro">Metro</option>
          </select>
        </label>
        <label>How long did you travel?
          <input type="text" name="travelDuration" placeholder="e.g., 30 minutes" />
        </label>
      </div>

      <label>Waste & recycling
        <select name="waste" required>
          <option value="">Select</option>
          <option value="composted">Composted & recycled</option>
          <option value="mixed">Mixed disposal</option>
          <option value="landfill">Landfill</option>
        </select>
      </label>

      <label>How many hours did you use the air conditioner today?
        <input type="number" name="acHours" min="0" step="0.5" placeholder="e.g., 2" />
      </label>

      <div class="toggle-field">
        <span>Did you use single-use plastic today?</span>
        <div class="toggle-buttons" data-toggle="plasticUse">
          <button type="button" data-value="yes">Yes</button>
          <button type="button" data-value="no">No</button>
        </div>
        <input type="hidden" name="plasticUse" id="plasticUseInput" />
      </div>

      <div class="toggle-field">
        <span>Did you segregate your waste today?</span>
        <div class="toggle-buttons" data-toggle="wasteSegregation">
          <button type="button" data-value="yes">Yes</button>
          <button type="button" data-value="no">No</button>
        </div>
        <input type="hidden" name="wasteSegregation" id="wasteSegregationInput" />
      </div>

      <div id="smokingLog" class="conditional-field hidden">
        <label>How many cigarettes did you smoke today?
          <input type="number" name="cigarettesToday" min="0" placeholder="e.g., 1" />
        </label>
      </div>
      <label>What did you do today?
        <textarea name="notes" rows="4" placeholder="e.g., Biked to work, carried reusable bottle"></textarea>
      </label>
      <button type="submit" class="btn primary full">Submit</button>
    </form>
  </section>

  <div id="toast" class="toast"></div>
  <div id="loader" class="loader hidden"></div>

  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script src="js/api.js"></script>
  <script src="js/utils.js"></script>
  <script src="js/today.js"></script>
</body>
</html>
